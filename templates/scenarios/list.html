{% extends "base.html" %}
{% block title %}Scenarios{% endblock %}
{% block content %}

<h1>Scenarios</h1>
<div class="card scenario-help">
  <h3 class="card-title">How to use Scenarios</h3>
  <ol class="help-steps">
    <li>Click <strong>Create a Scenario</strong> to start a draft.</li>
    <li>Fill in <em>Title</em>, <em>Summary</em>, <em>Severity</em>, and <em>Status</em>.</li>
    <li>Save to view the Scenario. From there you can <strong>Edit</strong> or <strong>Delete</strong>.</li>
    <li>New to this? Try the free module in <strong>Training</strong> first.</li>
  </ol>
</div>

  <section class="section scenarios-list"></section>
  <h1>Your Scenarios</h1>
  <p class="lead">Plan, draft, and review with guardrails.</p>
  

  <div class="card compact" style="margin-bottom:1rem;">
    <a class="btn btn-primary" href="{% url 'scenarios:create' %}">Create a Scenario</a>
    <a class="btn" href="{% url 'training:list' %}">Browse Training</a>
  </div>

  <div class="grid">
    {% for s in scenarios %}
      <article class="card compact">
        <h2 class="card-title">
          <a href="{% url 'scenarios:detail' s.pk %}">{{ s.title }}</a>
        </h2>
        <p class="card-meta">
          {{ s.get_status_display }}{% if s.severity %} · {{ s.get_severity_display }}{% endif %}
          {% if s.updated_at %} · updated {{ s.updated_at|date:"M j, H:i" }}{% endif %}
        </p>
        {% if s.summary %}
          <p>{{ s.summary|truncatechars:140 }}</p>
        {% endif %}
        <div class="card-actions">
          <a class="btn" href="{% url 'scenarios:edit' s.pk %}">Edit</a>
          <a class="btn btn-danger" href="{% url 'scenarios:delete' s.pk %}">Delete</a>
        </div>
      </article>
    {% empty %}
      <article class="card">
        <p>You don’t have any scenarios yet.</p>
        <a class="btn btn-primary" href="{% url 'scenarios:create' %}">Create your first Scenario</a>
      </article>
    {% endfor %}
  </div>
</section>
{% endblock %}
